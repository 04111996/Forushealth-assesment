{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/saran/Desktop/ReactNative-AsyncStorage-login/screen/Login.js\";\nimport { StatusBar } from \"expo-status-bar\";\nimport React, { useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nexport default function Login(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    username = _useState2[0],\n    setUsername = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    token = _useState6[0],\n    setToken = _useState6[1];\n  var onSubmit = function onSubmit() {\n    return _regeneratorRuntime.async(function onSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"token\", username));\n          case 2:\n            if (username === \"saran\" && password === \"123456\") {\n              navigation.navigate(\"Home\");\n            } else if (username === \"sridhar\" && password === \"12345\") {\n              navigation.navigate(\"Admin\");\n            } else {\n              console.log(\"pas tres nice \");\n            }\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n  var tokenlogin = function tokenlogin() {\n    var value;\n    return _regeneratorRuntime.async(function tokenlogin$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n          case 2:\n            value = _context2.sent;\n            if (value !== null) {\n              navigation.navigate(\"Home\");\n            } else {\n              console.log(\"Tu dois te connecter\");\n            }\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n  tokenlogin();\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, React.createElement(TextInput, {\n    onChangeText: function onChangeText(value) {\n      return setUsername(value);\n    },\n    style: styles.input,\n    placeholder: \"Username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }), React.createElement(TextInput, {\n    secureTextEntry: true,\n    style: styles.input,\n    onChangeText: function onChangeText(value) {\n      return setPassword(value);\n    },\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }), React.createElement(Button, {\n    onPress: onSubmit,\n    title: \"Se connecter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, \"username : \", username), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, \"password : \", password));\n}\nvar styles = StyleSheet.create({\n  input: {\n    height: 40,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  }\n});","map":{"version":3,"names":["StatusBar","React","useState","AsyncStorage","Login","navigation","username","setUsername","password","setPassword","token","setToken","onSubmit","setItem","navigate","console","log","tokenlogin","getItem","value","styles","container","input","StyleSheet","create","height","margin","borderWidth","padding"],"sources":["/Users/saran/Desktop/ReactNative-AsyncStorage-login/screen/Login.js"],"sourcesContent":["import { StatusBar } from \"expo-status-bar\";\nimport React, { useState } from \"react\";\nimport { StyleSheet, Text, View, Button, TextInput } from \"react-native\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nexport default function Login({ navigation }) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [token, setToken] = useState(null);\n\n  const onSubmit = async () => {\n    await AsyncStorage.setItem(\"token\", username);\n    if (username === \"saran\" && password === \"123456\") {\n      navigation.navigate(\"Home\");\n    } else if (username === \"sridhar\" && password === \"12345\") {\n      navigation.navigate(\"Admin\");\n    } else {\n      console.log(\"pas tres nice \");\n    }\n  };\n\n  const tokenlogin = async () => {\n    const value = await AsyncStorage.getItem(\"token\");\n    if (value !== null) {\n      navigation.navigate(\"Home\");\n    } else {\n      console.log(\"Tu dois te connecter\");\n    }\n  };\n\n  tokenlogin();\n\n  return (\n    <View style={styles.container}>\n      <TextInput\n        onChangeText={(value) => setUsername(value)}\n        style={styles.input}\n        placeholder=\"Username\"\n      />\n      <TextInput\n        secureTextEntry\n        style={styles.input}\n        onChangeText={(value) => setPassword(value)}\n        placeholder=\"Password\"\n      />\n      <Button onPress={onSubmit} title=\"Se connecter\" />\n      <Text>username : {username}</Text>\n      <Text>password : {password}</Text>\n    </View>\n  );\n}\n\n\nconst styles = StyleSheet.create({\n  input: {\n    height: 40,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10,\n  },\n});\n"],"mappings":";;;AAAA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC;AAAA;AAAA;AAAA;AAAA;AAExC,OAAOC,YAAY,MAAM,2CAA2C;AAEpE,eAAe,SAASC,KAAK,OAAiB;EAAA,IAAdC,UAAU,QAAVA,UAAU;EAAA,gBACRH,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArCI,QAAQ;IAAEC,WAAW;EAAA,iBACIL,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArCM,QAAQ;IAAEC,WAAW;EAAA,iBACFP,QAAQ,CAAC,IAAI,CAAC;IAAA;IAAjCQ,KAAK;IAAEC,QAAQ;EAEtB,IAAMC,QAAQ,GAAG,SAAXA,QAAQ;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCACNT,YAAY,CAACU,OAAO,CAAC,OAAO,EAAEP,QAAQ,CAAC;UAAA;YAC7C,IAAIA,QAAQ,KAAK,OAAO,IAAIE,QAAQ,KAAK,QAAQ,EAAE;cACjDH,UAAU,CAACS,QAAQ,CAAC,MAAM,CAAC;YAC7B,CAAC,MAAM,IAAIR,QAAQ,KAAK,SAAS,IAAIE,QAAQ,KAAK,OAAO,EAAE;cACzDH,UAAU,CAACS,QAAQ,CAAC,OAAO,CAAC;YAC9B,CAAC,MAAM;cACLC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;YAC/B;UAAC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACF;EAED,IAAMC,UAAU,GAAG,SAAbA,UAAU;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCACMd,YAAY,CAACe,OAAO,CAAC,OAAO,CAAC;UAAA;YAA3CC,KAAK;YACX,IAAIA,KAAK,KAAK,IAAI,EAAE;cAClBd,UAAU,CAACS,QAAQ,CAAC,MAAM,CAAC;YAC7B,CAAC,MAAM;cACLC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;YACrC;UAAC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACF;EAEDC,UAAU,EAAE;EAEZ,OACE,oBAAC,IAAI;IAAC,KAAK,EAAEG,MAAM,CAACC,SAAU;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAC5B,oBAAC,SAAS;IACR,YAAY,EAAE,sBAACF,KAAK;MAAA,OAAKZ,WAAW,CAACY,KAAK,CAAC;IAAA,CAAC;IAC5C,KAAK,EAAEC,MAAM,CAACE,KAAM;IACpB,WAAW,EAAC,UAAU;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACtB,EACF,oBAAC,SAAS;IACR,eAAe;IACf,KAAK,EAAEF,MAAM,CAACE,KAAM;IACpB,YAAY,EAAE,sBAACH,KAAK;MAAA,OAAKV,WAAW,CAACU,KAAK,CAAC;IAAA,CAAC;IAC5C,WAAW,EAAC,UAAU;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACtB,EACF,oBAAC,MAAM;IAAC,OAAO,EAAEP,QAAS;IAAC,KAAK,EAAC,cAAc;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,EAClD,oBAAC,IAAI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,kBAAaN,QAAQ,CAAQ,EAClC,oBAAC,IAAI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,kBAAaE,QAAQ,CAAQ,CAC7B;AAEX;AAGA,IAAMY,MAAM,GAAGG,UAAU,CAACC,MAAM,CAAC;EAC/BF,KAAK,EAAE;IACLG,MAAM,EAAE,EAAE;IACVC,MAAM,EAAE,EAAE;IACVC,WAAW,EAAE,CAAC;IACdC,OAAO,EAAE;EACX;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module"}