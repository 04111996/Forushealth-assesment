{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/saran/Desktop/ReactNative-AsyncStorage-login/screen/Login.js\";\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nexport default function Login(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    username = _useState2[0],\n    setUsername = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    token = _useState6[0],\n    setToken = _useState6[1];\n  var onSubmit = function onSubmit() {\n    return _regeneratorRuntime.async(function onSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('token', username));\n          case 2:\n            if (username === 'anthony' && password === '123456') {\n              console.log('Nice');\n              navigation.navigate('Home');\n            } else {\n              console.log('pas tres nice ');\n            }\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n  var tokenlogin = function tokenlogin() {\n    var value;\n    return _regeneratorRuntime.async(function tokenlogin$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('token'));\n          case 2:\n            value = _context2.sent;\n            if (value !== null) {\n              navigation.navigate('Home');\n              console.log('Tu es connecté');\n            } else {\n              console.log('Tu dois te connecter');\n            }\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n  tokenlogin();\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, React.createElement(TextInput, {\n    onChangeText: function onChangeText(value) {\n      return setUsername(value);\n    },\n    placeholder: \"Username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }), React.createElement(TextInput, {\n    secureTextEntry: true,\n    onChangeText: function onChangeText(value) {\n      return setPassword(value);\n    },\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }), React.createElement(Button, {\n    onPress: onSubmit,\n    title: \"Se connecter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, \"username : \", username), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, \"password : \", password));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"names":["StatusBar","React","useState","AsyncStorage","Login","navigation","username","setUsername","password","setPassword","token","setToken","onSubmit","setItem","console","log","navigate","tokenlogin","getItem","value","styles","container","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent"],"sources":["/Users/saran/Desktop/ReactNative-AsyncStorage-login/screen/Login.js"],"sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport React, { useState } from 'react';\nimport { StyleSheet, Text, View, Button, TextInput } from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nexport default function Login({navigation}) {\n\n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n    const [token, setToken] = useState(null)\n\n    const onSubmit = async() => {\n        await AsyncStorage.setItem('token', username)\n        if (username === 'anthony' && password === '123456') {\n            console.log('Nice')\n            navigation.navigate('Home')\n        }else {\n            console.log('pas tres nice ')\n        }\n    }\n\n    const tokenlogin = async() => {\n        const value = await AsyncStorage.getItem('token')\n        if (value !== null) {\n            navigation.navigate('Home')\n            console.log('Tu es connecté')\n        }else {\n            console.log('Tu dois te connecter')\n        }\n    }\n\n    tokenlogin()\n\n  return (\n    <View style={styles.container}>\n      <TextInput onChangeText={(value) => setUsername(value)} placeholder=\"Username\" />\n      <TextInput secureTextEntry onChangeText={(value) => setPassword(value)} placeholder=\"Password\" />\n      <Button onPress={onSubmit} title=\"Se connecter\"/>\n      <Text>username : {username}</Text>\n      <Text>password : {password}</Text>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n"],"mappings":";;;AAAA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC;AAAA;AAAA;AAAA;AAAA;AAExC,OAAOC,YAAY,MAAM,2CAA2C;AAEpE,eAAe,SAASC,KAAK,OAAe;EAAA,IAAbC,UAAU,QAAVA,UAAU;EAAA,gBAELH,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArCI,QAAQ;IAAEC,WAAW;EAAA,iBACIL,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArCM,QAAQ;IAAEC,WAAW;EAAA,iBACFP,QAAQ,CAAC,IAAI,CAAC;IAAA;IAAjCQ,KAAK;IAAEC,QAAQ;EAEtB,IAAMC,QAAQ,GAAG,SAAXA,QAAQ;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCACJT,YAAY,CAACU,OAAO,CAAC,OAAO,EAAEP,QAAQ,CAAC;UAAA;YAC7C,IAAIA,QAAQ,KAAK,SAAS,IAAIE,QAAQ,KAAK,QAAQ,EAAE;cACjDM,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;cACnBV,UAAU,CAACW,QAAQ,CAAC,MAAM,CAAC;YAC/B,CAAC,MAAK;cACFF,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;YACjC;UAAC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACJ;EAED,IAAME,UAAU,GAAG,SAAbA,UAAU;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCACQd,YAAY,CAACe,OAAO,CAAC,OAAO,CAAC;UAAA;YAA3CC,KAAK;YACX,IAAIA,KAAK,KAAK,IAAI,EAAE;cAChBd,UAAU,CAACW,QAAQ,CAAC,MAAM,CAAC;cAC3BF,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;YACjC,CAAC,MAAK;cACFD,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;YACvC;UAAC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACJ;EAEDE,UAAU,EAAE;EAEd,OACE,oBAAC,IAAI;IAAC,KAAK,EAAEG,MAAM,CAACC,SAAU;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAC5B,oBAAC,SAAS;IAAC,YAAY,EAAE,sBAACF,KAAK;MAAA,OAAKZ,WAAW,CAACY,KAAK,CAAC;IAAA,CAAC;IAAC,WAAW,EAAC,UAAU;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,EACjF,oBAAC,SAAS;IAAC,eAAe;IAAC,YAAY,EAAE,sBAACA,KAAK;MAAA,OAAKV,WAAW,CAACU,KAAK,CAAC;IAAA,CAAC;IAAC,WAAW,EAAC,UAAU;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,EACjG,oBAAC,MAAM;IAAC,OAAO,EAAEP,QAAS;IAAC,KAAK,EAAC,cAAc;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAE,EACjD,oBAAC,IAAI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,kBAAaN,QAAQ,CAAQ,EAClC,oBAAC,IAAI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,kBAAaE,QAAQ,CAAQ,CAC7B;AAEX;AAEA,IAAMY,MAAM,GAAGE,UAAU,CAACC,MAAM,CAAC;EAC/BF,SAAS,EAAE;IACTG,IAAI,EAAE,CAAC;IACPC,eAAe,EAAE,MAAM;IACvBC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE;EAClB;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module"}